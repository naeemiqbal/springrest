<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Stores</title>
<script type="text/javascript" src="nmiUtils.js"></script>
<link type="text/css" href="nmiStyles.css" rel="stylesheet">

<script>

 	window.addEventListener("DOMContentLoaded", init);
 	const st="12345",
 	at="",
 	bt=""
 	;      
 	
 	function init(){ 		
 		display(st, at, bt);
 		let ret = hanoi( "1234", "", "");
 		display(ret[0],ret[1],ret[2]);	
 	}
 	
 	function display(s,a,b){
 		document.getElementById("at").value = a;
 		document.getElementById("bt").value = b;
 		document.getElementById("st").value = s;
 	};
 	
 	String.prototype.pop = function() {
 		var str= this.valueOf(),  
 		ret= str.charAt(0);
 		str = str.substring(1);
 		this.value = str;
 		return ret;
 	};
 	
 	String.prototype.push = function(ns) {
 		return ns + this.valueOf(); 		
 	};
 	
 	/*function hanoi( pFrom, pTo, pHlpr ) {
 		
 		var from = document.getElementById(pFrom).value,
 		    to=document.getElementById(pTo).value,
 		    hlpr=document.getElementById(pHlpr).value;
 		*/
 	function hanoi( from, to, hlpr ) {
 		 	 		
 		var val, i=from.length, ret;
 		if ( i < 2 ){
 			val = from.charAt(0);
 			from = from.substr(1);
 			to = val + to;
 		}
 		else if ( i >= 2 ) {
 			val = from.charAt(0);
 			from = from.substr(1);
 			hlpr = val + hlpr;
 			val = from.charAt(0);
 			from = from.substr(1);
 			to = val + to;
 			val = hlpr.charAt(0);
 			hlpr = hlpr.substr(1);
 			to = val + to;
 			i-=2;
 			if (i > 0)
	 			for (;i>0; i--) {
	 	 			val = from.charAt(0);
	 	 			from = from.substr(1);
	 	 			if (hlpr===""){
	 	 			hlpr = val + hlpr;
	 				ret = hanoi(to, hlpr, from );
	 				from=ret[0];
	 		 		to=ret[1];
	 		 		hlpr=ret[2];	
	 		 		display(ret[0],ret[1],ret[2]);	
/*	 		 		from = document.getElementById(pFrom).value;
	 		 		to = document.getElementById(pTo).value;
	 		 		hlpr =document.getElementById(pHlpr).value;*/
	 	 			}
	 	 			else{
		 	 			to = val + to;
		 				ret= hanoi(hlpr, to, from );
		 				from=ret[0];
		 		 		to=ret[1];
		 		 		hlpr=ret[2];	
		 		 		display(ret[0],ret[1],ret[2]);	
	 	 			}	 	 				
	 			}
 			else
 		 		display(from, to, hlpr);
 		}
 		return [from, to, hlpr];
 	}	
</script>
</head>

<body>
Tower of Hanoi
<input id="st" />
<input id="at" />
<input id="bt" />


</body>
</html>
