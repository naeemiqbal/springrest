<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Stores</title>
<script type="text/javascript" src="nmiUtils.js"></script>
<link type="text/css" href="nmiStyles.css" rel="stylesheet">

<script>

 	window.addEventListener("DOMContentLoaded", init);
 	const st="12345",
 	at="",
 	bt=""
 	;      
 	
 	function init(){ 		
 		display(st, at, bt);
 		hanoi( "st", "at", "bt");
 	}
 	
 	function display(s,a,b){
 		document.getElementById("at").value = a;
 		document.getElementById("bt").value = b;
 		document.getElementById("st").value = s;
 	};
 	
 	String.prototype.pop = function() {
 		var str= this.valueOf(),  
 		ret= str.charAt(0);
 		str = str.substring(1);
 		this.value = str;
 		return ret;
 	};
 	
 	String.prototype.push = function(ns) {
 		return ns + this.valueOf(); 		
 	};
 	
 	function hanoi( pFrom, pTo, pHlpr ) {
 		
 		var from = document.getElementById(pFrom).value,
 		    to=document.getElementById(pTo).value,
 		    hlpr=document.getElementById(pHlpr).value;
 		var val, i=from.length;
 		if ( i < 2 ){
 			val = from.charAt(0);
 			from = from.substr(1);
 			to = val + to;
 	 		display(from, to, hlpr);
 		}
 		else if ( i >= 2 ) {
 			val = from.charAt(0);
 			from = from.substr(1);
 			hlpr = val + hlpr;
 			val = from.charAt(0);
 			from = from.substr(1);
 			to = val + to;
 			val = hlpr.charAt(0);
 			hlpr = hlpr.substr(1);
 			to = val + to;
 	 		display(from, to, hlpr);
 			i-=2;
 			if (i > 0)
	 			for (;i>0; i--) {
	 	 			val = from.charAt(0);
	 	 			from = from.substr(1);
	 	 			if (hlpr===""){
	 	 			hlpr = val + hlpr;
	 	 	 		display(from, to, hlpr);
	 				hanoi(pTo, pHlpr, pFrom );
	 		 		from = document.getElementById(pFrom).value;
	 		 		to = document.getElementById(pTo).value;
	 		 		hlpr =document.getElementById(pHlpr).value;
	 	 			}
	 	 			else{
		 	 			to = val + to;
		 	 	 	//	display(from, to, hlpr);
		 				hanoi( pHlpr, pTo,  pFrom );
		 		 		from = document.getElementById(pFrom).value;
		 		 		to = document.getElementById(pTo).value;
		 		 		hlpr =document.getElementById(pHlpr).value;
	 	 			}	 	 				
	 			}
 			else
 		 		display(from, to, hlpr);
 		}	 		
 	}	
</script>
</head>

<body>
Tower of Hanoi
<input id="st" />
<input id="at" />
<input id="bt" />


</body>
</html>
